<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" http-equiv="Content-Security-Policy"
    content="default-src 'self'; img-src https://* file://* data:; child-src 'none';">
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    
    <link rel="stylesheet" href="node_modules/tabulator-tables/dist/css/tabulator_bootstrap4.min.css"/>
    
    <link rel="stylesheet" href="node_modules/leaflet/dist/leaflet.css" crossorigin=""/>
    <!---->
    <script src="node_modules/leaflet/dist/leaflet.js"></script>
    
    
    <title>Server handle</title>
    <link rel="stylesheet" href="style/style.css" />
  </head>
  <body>


    <div id="mySidenav" class="sidenav">
      <a href="#" class="closebtn" id="closebtn">&times;</a>
     <!--<a href="#" id="s0" class="swapPage">Graphs</a>--> 
     <a href="#" id="s1" class="swapPage">Data update</a> 
     <button class="dropdown-btn">Graphs 
        <i class="fa fa-caret-down">></i>
      </button>
      <div class="dropdown-container">
        <a href="#" id="s3" class="swapPage">Graph responses</a>
        <a href="#" id="s4" class="swapPage">Graph errors</a>
        <a href="#" id="s5" class="swapPage">Graoh average</a>
      </div>
      
      <a></a>
      <a href="#" id="s2" class="swapPage">Map</a>
    </div>
    <span id="openNav">&#9776;</span>

    <!--json handle -->

    <div id="jsonpar">
      <h1>Server update</h1>
        <div class='parent'>
          <div class='child'>
            <h2>Update server or Add new server</h2>
            <table class="main_T">
              <tr>
                <th id="cc">Find server</th>
                <th>Name / New name</th>
                <th>Address</th> 
                <th>Color</th>
                <th>Period</th>
                <th>Worker</th>
                <th>Coordinates</th>
                <th></th>
              </tr>
              <tr>
                  <td id="cc"><input type = "text" id = "s_old_name" pattern="^[A-Za-z0-9_\s]{1,30}$"><br><br><button id = "loadnewserv">Find</button></td>
                <form id="sform">
                  <td><input type = "text" id = "s_name" pattern="^[A-Za-z0-9_\s.-]{1,30}$" placeholder="Name" required></td>
                  <td><input type = "text" id = "s_ip" minlength="3" maxlength="30" size="20" placeholder="1.1.1.1/www.example.com" required></td> 
                  <td><input type = "color" id = "s_color" required></td>
                  <td><input type = "text" id = "s_period" pattern="([1-99]+h+[0-59]+m+[0-59]+s)|([1-59]+m+[0-59]+s)|([1-59]+s)|([1-59]+m)|([1-59]+h)" placeholder="-h-m-s or -m-s or -s or -m" required></td>
                  <td><input type = "text" id = "s_worker" placeholder="worker"required>
                  <td>
                    <input type = "text" id = "s_latitude" placeholder="Latitude"><br><br>
                    <input type = "text" id = "s_longitude" placeholder="Longitude">
                  </td>
                  
                </form>
              </tr>
            </table>
              <button type = "button" id = "upsave">Update Add task</button>
              <button type = "button" id = "runing">Pause/Start task</button>
              <button type="button" id="btn6">path empty</button>
              <button type="button" id="dellall_html">dell all results on server</button>
          </div>
        </div>
        <h1>Servers specs</h1>
          <div id="example-table"></div>
        
        <script src="node_modules/tabulator-tables/dist/js/tabulator.min.js"></script>
      <!--

      -->

      <script src="./podpr/jsonhandle.js"></script>
    </div>



    <div id="spacer"></div>
    <!--grafy -->


    <div id="graf">
      <br>
      <b id="timer"></b>
      <b id="timer">Set reload time [s]:</b>
      <input type = "number" id = "timerMax">
      <b id="timer">Set graf area length:</b>
      <input type = "number" id = "lenMax">
      <button type="button" id="load_d">Reload all data.</button>
      

      <div id="gResp0">
        <h1>Graf</h1>
        <canvas id="myChart"></canvas>
        <button type="button" id="left_m">Shift to Left</button>
        <button type="button" id="resetZoom">Reset zoom</button>
        <button type="button" id="right_m">Shift to Right</button>
      </div>
        <div id="gResp1">
          <h1>Graf Chybovosti</h1>
          <canvas id="myBarChart"></canvas>
        </div>
        <div id="gResp">
          <div id="gRespCH1">
            <h1>průměry rychlostí odezvy</h1>
            <canvas id="myPolarChart"></canvas>
          </div>
          <div id="gRespCH2">
            <h1>počet naměřených hodnot</h1>
            <canvas id="myDoughnutChart"></canvas>
          </div>
        </div>
      <br><br>
      <script src="node_modules/chart.js/dist/chart.js"></script>  <!--načte knihovnu chart.js -->
      <script src="node_modules/chart.js/dist/chart.min.js"></script>  <!--načte knihovnu chart.js -->
      <script src="node_modules/chartjs-plugin-zoom/dist/chartjs-plugin-zoom.min.js"></script>  <!--načte knihovnu chart.js -->
      <script src="./podpr/graphs.js"></script>
    </div>

    <!-- mapa -->
    <div id="maps">
      <br><br>
      <div id="map"></div>
        <button type="button" id="llll">click</button>
      </div>
    <script src="./podpr/maps.js"></script>

   <script src="./renderer.js"></script>   <!-- spustí skript -->
  </body>
</html>