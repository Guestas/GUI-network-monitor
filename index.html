<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" http-equiv="Content-Security-Policy"
    content="default-src 'self'; img-src https://* file://* data:; child-src 'none';">
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    
    <link rel="stylesheet" href="./node_modules/leaflet/dist/leaflet.css"/>
    <!---->
    
    <title>Server handle</title>
    <link rel="stylesheet" href="style/style.css" />
  </head>
  <body>

    <div id="mySidenav" class="sidenav">
      <a href="#" class="closebtn" id="closebtn">&times;</a>
     <a href="#" id="s3" class="swapPage">Login</a>
     <a href="#" id="s1" class="swapPage">Data update</a> 
     <button class="dropdown-btn">Graphs 
        <i class="fa fa-caret-down">></i>
      </button>
      <div class="dropdown-container">
        <a href="#" id="s4" class="swapPage">Graph responses</a>
        <a href="#" id="s5" class="swapPage">Graph errors</a>
        <a href="#" id="s6" class="swapPage">Graph average</a>
      </div>
      
      <a></a>
      <a href="#" id="s2" class="swapPage">Map</a>
    </div>
    <span id="openNav">&#9776;</span>




    <!--login -->
    <div id="login"> 


      <div id="loginForm">
        <form class="logF">
          <label for="username" class="log">Username:</label>
          <input type="text" id="username" class="log" placeholder="username" value="aa">
          <br>
          <label for="password" class="log">Password:</label>
          <input type="password" id="password" class="log" placeholder="password" value="aa">
          <br>
          <label for="ipAddress" class="log">IP:</label>
          <input id="ipAddress" placeholder="https://x.x.x.x:8000" class="log" value="https://192.168.1.110:8000">
          <br>
          <br>
          <a>Change IP if server not on host/your pc else leave empty!</a>
          <br>
          <br>
          <input type="button" value="Log In" class="log" id="validateLogIn">
        </form>
      </div>
      <p id="version">Version is </p>
    </div>
    <div id="spacer"></div>





    <!--json handle -->

    <div id="jsonpar">

      <button id="menuButton">Ad new task</button><br>
      
      <div id="menu" class="hidden">
        <button id="hide-menu-btn">Cancel</button><br>
        <div class='child'>
          <table class="main_T">
            <tr>
              <th>Name / New name</th>
              <th>Address</th> 
              <th>Color</th>
              <th>Period</th>
              <th>Worker</th>
              <th>Coordinates</th>
              <th></th>
            </tr>
            <tr>
                <form id="sform">
                <td><input type = "text" id = "s_name" pattern="^[A-Za-z0-9_\s.-]{1,30}$" placeholder="Name" required></td>
                <td><input type = "text" id = "s_ip" minlength="3" maxlength="30" size="20" placeholder="1.1.1.1/www.example.com" required></td> 
                <td><input type = "color" id = "s_color" required></td>
                <td><input type = "text" id = "s_period" pattern="(^[1-9]|[1-5][0-9])s$|(^[1-9]|[1-5][0-9])m (^[1-9]|[1-5][0-9])s$|(^[1-9]|1[0-9]|2[0-4])h (^[1-9]|[1-5][0-9])m (^[1-9]|[1-5][0-9])s$|(^[1-9]|1[0-9]|2[0-4])h (^[1-9]|[1-5][0-9])m$|(^[1-9]|1[0-9]|2[0-4])h$|(^[1-9]|1[0-9]|2[0-4])m$" placeholder="24h 59m 59s" required></td>
                <td><input type = "text" id = "s_worker" placeholder="worker"required>
                <td>
                  <input type = "text" id = "s_latitude" pattern="^[0-9.]{1,30}$" placeholder="Latitude"><br><br>
                  <input type = "text" id = "s_longitude" pattern="^[0-9.]{1,30}$" placeholder="Longitude">
                </td>

              </form>
            </tr>
          </table>
            <button type = "button" id = "upsave">Update Add task</button>
            <button type = "button" id = "runing">Pause/Start task</button>
            <button type="button" id="dellall_html">dell all results on server</button>
          </div>
      </div>
        <div id="taskTableN"  class="taskTableN">
          <div id="cc"><input type = "text" id = "s_old_name" pattern="^[A-Za-z0-9_\s]{1,30}$"><button id = "loadnewserv">Find</button></div>
            <div class="taskTable">
              <table id="myTable">
                <thead>
                  <tr>
                    <th id="sortx" class="tabH">Update</span></th>
                    <th id="sort1" class="tabH">ID</span></th>
                    <th id="sort2" class="tabH">Name</span></th>
                    <th id="sort3" class="tabH">Address</span></th>
                    <th id="sortx" class="tabH">Color</span></th>
                    <th id="sortx" class="tabH">Period</span></th>
                    <th id="sort6" class="tabH">Coordinates</span></th>
                    <th id="sort7" class="tabH">Worker</span></th>
                    <th id="sort8" class="tabH">Runing</span></th>
                    <th id="sort9" class="tabH">Hide in graph</span></th>
                    <th id="sortx" class="tabH">Dellete</th>
                  </tr>
                </thead>
              </table>
          </div>
        </div>
      
          <!-- Context menu for table -->
          <div id="context-menu" class="context-menu">
            <ul>
              <li id="PauseStart" class="dropdown">Pause/Start</li>
              <li id="Delete" class="dropdown">Delete</li>
              <li id="Hide" class="dropdown">Hide in graph</li>
            </ul>
          </div>


    </div>

    <!--grafy -->


    <div id="graf">
      
      <div id="menu-G" class="hidden-G">
        <button id="hide-menu-btn-G">Cancel</button><br>
        <b>Set reload time [s]:</b>
        <input type = "number" id = "timerMax">
        <b>Reload is runing:</b>
        <input type="checkbox" id="myCheckbox" checked="true">
        <br>
        <b>Set graf area length:</b>
        <input type = "number" id = "lenMax">
      </div>
      <b id="timer"></b>
      <button id="menuButton-G"><img src="pics/Settings.png" height="20px"></button>
      <button type="button" id="load_d">Reload all data.</button>
      <br>
      <label for="start-time">Start Time:</label>
      <input type="datetime-local" id="start-time" name="start-time">

      <label for="end-time">End Time:</label>
      <input type="datetime-local" id="end-time" name="end-time">
      <label for="end-time">Step size: </label>
      <select id="myDropdownM">
        <option value="h">h</option>
        <option value="m">m</option>
        <option value="s">s</option>
        <option value="D">D</option>
        <option value="M">M</option>
        <option value="Y">Y</option>
      </select>
      <button type="button" id="loadFromTo">Load data in interval.</button>
      

      <div id="gResp0">
        <canvas id="myChart"></canvas>
        <button type="button" id="left_m">Shift to Left</button>
        <button type="button" id="resetZoom">Reset zoom</button>
        <button type="button" id="right_m">Shift to Right</button>
        
      </div>
        <div id="gResp1">
          <h1>Error graph</h1>
          <canvas id="myBarChart"></canvas>
        </div>
        <div id="gResp">
          <div id="gRespM">
            <div id="gRespCH1">
              <h1>Average responses</h1>
              <canvas id="myPolarChart"></canvas>
            </div>
            <div id="gRespCH2">
              <h1>Count of measured values</h1>
              <canvas id="myDoughnutChart"></canvas>
            </div>
          </div>
        </div>
    </div>

    <!-- mapa -->
    <div id="maps">
      
      <div id="mapM">
        <div id="map"></div>
      </div>
      
    </div>





      <script src="./podpr/renderer.js"></script>   <!-- spustí skript -->
      
      <script src="./podpr/jsonhandle.js"></script>

      <script src="./node_modules/chart.js/dist/chart.js"></script>  <!--načte knihovnu chart.js -->
      <script src="./node_modules/chart.js/dist/chart.min.js"></script>  <!--načte knihovnu chart.js -->
      <script src="./node_modules/chartjs-plugin-zoom/dist/chartjs-plugin-zoom.min.js"></script>  <!--načte knihovnu chart.js -->
      <script src="./podpr/graphs.js"></script>
  
      <script src="./node_modules/leaflet/dist/leaflet.js"></script>
      <script src="./podpr/maps.js"></script>
  
      

  </body>
</html>