<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" http-equiv="Content-Security-Policy"
    content="default-src 'self'; img-src https://* file://* data:; child-src 'none';">
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    
    <link rel="stylesheet" href="../node_modules/leaflet/dist/leaflet.css"/>
    <!---->
    
    <title>Network monitor</title>
    <link rel="stylesheet" href="style/style.css" />
  </head>
  <body>
    
    <div class="sidebarr">
      <a href="#" class="closebtn" id="openNav">&#9776;</a>
      <a href="#" id="s0" class="swapPageS"><img src="pics/login.png" height="20px"></a>
      <hr>
      <a href="#" id="s1" class="swapPageS"><img src="pics/change.png" height="20px"></a> 
      <hr>
      <a href="#" id="s2" class="swapPageS"><img src="pics/line.png" height="20px"></a>
      <a href="#" id="s3" class="swapPageS"><img src="pics/bar.png" height="20px"></a>
      <a href="#" id="s4" class="swapPageS"><img src="pics/Polar.png" height="20px"></a>
      <hr>
      <a href="#" id="s5" class="swapPageS"><img src="pics/Map.png" height="20px"></a>
      <hr>
      <a href="#" id="s6" class="swapPageS"><img src="pics/Manual.png" height="20px"></a>
    </div>

    <div id="mySidenav" class="sidenav">
      <a href="#" class="closebtn" id="closebtn">&times;</a>
      <a href="#" id="s0" class="swapPage"><img class="icons" src="pics/login.png" height="20px">Login</a>
      <hr>
      <a href="#" id="s1" class="swapPage"><img class="icons" src="pics/change.png" height="20px">Data update</a> 
      <hr>
      <a href="#" id="s2" class="swapPage"><img class="icons" src="pics/line.png" height="20px"> Graph responses</a>
      <a href="#" id="s3" class="swapPage"><img class="icons" src="pics/bar.png" height="20px"> Graph errors</a>
      <a href="#" id="s4" class="swapPage"><img class="icons" src="pics/Polar.png" height="20px"> Graph average</a>
      <hr>
      <a href="#" id="s5" class="swapPage"><img class="icons" src="pics/Map.png" height="20px"> Map</a>
      <hr>
      <a href="#" id="s6" class="swapPage"><img class="icons" src="pics/Manual.png" height="20px"> Manual</a>
    </div>
    
    <div id="hider"></div>
    


    <!--login -->
    <div id="login"> 
      <br>
      <div id="loginForm">
        
        <form class="logF">
          <h2>Login and conect</h2>
          <p class="topLog"><input type="text" id="username" class="log" placeholder="Username"><img src="pics/Info.png"  class="infoSign"  title="Username" /></p>

          <p><input type="password" id="password" class="log" placeholder="Password"><img src="pics/Info.png"  class="infoSign"  title="Password" /></p>

          <p  class="botomLog"><input id="ipAddress" placeholder="Address" class="log"><img src="pics/Info.png"  class="infoSign"  title="https://x.x.x.x:8000" /></p>

          <p>Change Address if server not on host/your pc else leave empty!</p>
          <br>
          <button type="button" value="Log In" class="log" id="validateLogIn" height="40px">Connect</button>
          <p id="version">Version is</p>
        </form>
        
      </div>
      
    </div>
    <div id="spacer"></div>





    <!--json handle -->

    <div id="jsonpar">
      <div id="boxTransparent"></div>
      
        <div id="taskTableN"  class="taskTableN">
          <div id="cc">
            <div class="left-div"><img id="menuButton" class="iconsIn" src="pics/Add.png" title="Add new task"></div>
            <div class="right-div"><input type = "text" id = "s_old_name" pattern="^[A-Za-z0-9_\s]{1,30}$" placeholder="Search"><img id = "loadnewserv" class="iconsIn" src="pics/Find.png" title="Find"></div>  
          </div>
            <div class="taskTable">
              <div id="menu">
                <div id="menudiv">
                  <div id="cc2"> 
                    <div class="left-div2">
                      <h2>Add/Update</h2>
                    </div>
                    <div class="right-div2">
                      <div class="fullRight" id="hide-menu-btn">&times;</div>
                    </div>
                  </div>
                 
                  <form id="sform">
                    <p><input class = "inptask" type = "text" id = "s_name" pattern="^[A-Za-z0-9_\s.-]{1,30}$" placeholder="Name" required><img src="pics/Info.png"  class="infoSign"  title="Name to graph and for table" /></p>
                    <p><input class = "inptask" type = "text" id = "s_ip" minlength="3" maxlength="30" size="20" placeholder="Address of server" required><img src="pics/Info.png"  class="infoSign"  title="1.1.1.1 or www.example.com" /></p>
                    <p><input class = "inptask" type = "color" id = "s_color" required><img src="pics/Info.png"  class="infoSign"  title="Color in graph" /></p>
                    <p><input class = "inptask" type = "text" id = "s_period" pattern="(^[1-9]|[1-5][0-9])s$|(^[1-9]|1[0-9]|2[0-4])h$|(^[1-9]|1[0-9]|2[0-4])m$" placeholder="Set period for checking" required><img src="pics/Info.png"  class="infoSign"  title="24h or 59m or 59s" /></p>
                    <p><input class = "inptask" type = "text" id = "s_worker" placeholder="worker"required><img src="pics/Info.png"  class="infoSign"  title="Worker" /></p>
                    <p><input class = "inptask" type = "text" id = "s_latitude" pattern="^-?([0-8]?[0-9](\.\d{1,10})?|90(\.0{1,10})?)$" placeholder="Latitude"><img src="pics/Info.png"  class="infoSign"  title="Latitude of server location -90 to 90" /></p>
                    <p><input class = "inptask" type = "text" id = "s_longitude" pattern="^-?(?:1?[0-7]?[0-9](?:\.\d{1,10})?|180(?:\.0{1,10})?)$" placeholder="Longitude"><img src="pics/Info.png"  class="infoSign"  title="Longitude of server location -180 to 180" /></p>
                  </form>
                  <button type = "button" id = "upsave" >Update Add task</button>
                  <button type = "button" id = "runing">Pause/Start task</button>
                </div>
              </div>
              <table id="myTable">
                <thead>
                  <tr>
                    <th id="sortx" class="tabH">Update</span></th>
                    <th id="sort1" class="tabH">ID</span></th>
                    <th id="sort2" class="tabH">Name</span></th>
                    <th id="sort3" class="tabH">Address</span></th>
                    <th id="sortx" class="tabH">Color</span></th>
                    <th id="sortx" class="tabH">Period</span></th>
                    <th id="sort6" class="tabH">Coordinates</span></th>
                    <th id="sort7" class="tabH">Worker</span></th>
                    <th id="sort8" class="tabH">Status</span></th>
                    <th id="sort9" class="tabH">Graph visible</span></th>
                    <th id="sortx" class="tabH">Dellete</th>
                  </tr>
                </thead>
              </table>
          </div>
        </div>
      
          <!-- Context menu for table -->
          <div id="context-menu" class="context-menu">
            <ul>
              <li id="PauseStart" class="dropdown">Pause/Start</li>
              <li id="Delete" class="dropdown">Delete</li>
              <li id="Hide" class="dropdown">Hide in graph</li>
            </ul>
          </div>


    </div>

    <!--grafy -->


    <div id="graf">
      <div id="progress">
        <div id="myProgress">
          <div id="myBar"></div>
        </div>
        <p>Downloading data from server</p>
      </div>

      <div id="menu-G" class="hidden-G">
        <div id="hide-menu-btn-G" class="fullRight">&times;</div>
        <br>
        <b>Set reload time [s]:</b>
        <input type = "number" id = "timerMax"><img src="pics/Info.png"  class="infoSign"  title="Minimal value is 20s" />
        <br>
        <b>Auto reload data:</b>
        <input type="checkbox" id="myCheckbox" checked="true"><img src="pics/Info.png"  class="infoSign"  title="Checked for auto reload otherwise auto reload off" />
        <br>
        <b>Set graf area length:</b>
        <input type = "number" id = "lenMax"><img src="pics/Info.png"  class="infoSign"  title="Minimal is 3 values" />
        <br>
        <button id="confirmNewsettGraph">Confirm</button><br>
      </div>

      <div id="cc">
        <div class="left-div1">
          <b id="timer"></b>
          <img id="load_d" class="iconsIn" src="pics/Reload.png" title="Reload real time loading">
        </div>
        <div class="center-div1">
          <label for="start-time">Since:</label>
          <input type="datetime-local" id="start-time" name="start-time">

          <label for="end-time">To:</label>
          <input type="datetime-local" id="end-time" name="end-time">
          <label for="end-time">Step size: </label>
          <select id="myDropdownM">
            <option value="h">h</option>
            <option value="m">m</option>
            <option value="s">s</option>
            <option value="D">D</option>
            <option value="M">M</option>
            <option value="Y">Y</option>
          </select>
          <img id="loadFromTo" class="iconsIn" src="pics/Downlioad.png" title="Download data in boundaries">
        </div>
        <div class="right-div1">
        
          <img id="menuButton-G" class="iconsIn" src="pics/Settings.png" title="Sett graphs">
        </div>  
      </div>

      

      
      

      <div id="gResp0" class="gRespp">
        <canvas id="myChart" ></canvas>
        <img id="left_m" class="iconsIn" src="pics/left.png">
        <img id="resetZoom" class="iconsIn" src="pics/Resetzoom.png">
        <img id="right_m" class="iconsIn" src="pics/right.png">
      </div>
      <div id="gResp1" class="gRespp">
        <canvas id="myBarChart" ></canvas>
      </div>
      <div id="gResp" class="gRespp">
        <div id="gRespM">
          <div id="gRespCH1">
            <canvas id="myPolarChart"></canvas>
          </div>
          <div id="gRespCH2">
            <canvas id="myDoughnutChart"></canvas>
          </div>
        </div>
      </div>
    </div>

    <!-- mapa -->
    <div id="maps">
      <div id="mapM">
        <div id="map"></div>
      </div>
      
    </div>
    <!-- manual -->
    <div id="manua">
      
      <div id="kk">
        <h1>Manual</h1>
        <hr>
        <h2>Login form:</h2>
        <p>Login form for conect to server. </p>
        <div class="image-container">
          <img src="picsM/login.png" alt=""><br>
        </div>
        <ol>
          <li>Fill your name which you sett on server.</li>
          <li>Fill your password which you sett on server.</li>
          <li>If your server is not on your pc. You should fill address of server where app is runing otherwise leave it empty.</li>
          <li>After filling form click on this button you will be logged in. If there is an error check if server is running and you can try to ping on it.</li>
          <li>If you click on this button you will see tab titles. Like on next picture. 
            <div class="image-container">
              <img src="picsM/loginSide.png" id="sideBarre" alt=""><br>
            </div>
          </li>
          <li>There you can see number of version you are using.</li>
        </ol>
        <hr>
        <h2>Task handle:</h2>
        <p>Table with tested servers. </p>
        <div class="image-container"><img src="picsM/dataUp.png" alt=""></div>
        <ol>
          <li>Adding button after click will open form (Adding or updating).</li>
          <li>You can find server from table by name.</li>
          <li>Updating row after click it will open form (Adding or updating) with predefined walues from line .</li>
          <li>Status of task if there is this <img src="picsM/prog/Start.png" id="icons" alt=""> it is not runing. If there is this <img src="picsM/prog/Pause.png" id="icons" alt=""> it is runing. After click on these symbols it wil togle status.</li>
          <li>Thissymbo <img src="picsM/prog/Show.png" id="icons" alt=""> means values are in table visible. This symbol <img src="picsM/prog/Hide.png" id="icons" alt=""> means datas are hiden in graphs. If you click on these symbols it will togle visibility.</li>
          <li>Trash can after click you will remove this testing and data from server.</li>
          <li>This row is clickable. You can click on ID, Name, Address, Period, Status and graph visible. and table wil be sorted by this colum.</li>
        </ol>
        <p> Adding or updating form. Where you can fill all inputs. Address of server is url or IP address. period could be in mins or hours or seconds in format (Xs or Xm or Xh)</p>
        <div class="image-container"><img src="picsM/add.png" alt=""></div>
        
        <hr>
        <h2>Line graph:</h2>
        <p>Graph with responses in time. </p>
        <div class="image-container">
          <img src="picsM/line chart.png" alt=""><br>
        </div>
        <ol>
          <li>If you click this button app will reload all data. And if auto load is turned on app will append new measured data in graph.</li>
          <li>This button will download data in interval and with step like dys, years...</li>
          <li>Settings button: it will open thiswindow:
            <div class="image-container"><img src="picsM/linechartsett.png" id="sideBarre" alt=""></div></li>
          </li>
          <ol>
            <li>There you can set auto reload time.</li>
            <li>This checkbox defines autoreload. If checked autoreload is on if not counter is off.</li>
            <li>Graph area length mean how many values will be visible in graph.</li>
          </ol>
         <li>Set starting time if you leave it empty there will not be minimal time it will load all data without down limit.</li>
         <li>Set ending time if you leave it empty there will not be maximal time it will load all data without upper limit.</li>
         <li>There is list of rounding values you can round measurement in Years, Months, Days, Hours, Minutes or Seconds.</li>
         <li>If you zoom in you can move graph to left whit this button.</li>
         <li>Reset zoom.</li>
         <li>If you zoom in you can move graph to right whit this button.</li>
         <li>If you click on name of server it will togle visibility in graph.</li>
        </ol>
        <hr>
        <h2>Horizontal bar chart:</h2>
        <p>Graph with count of successful or failed conections. </p>
        <div class="image-container">
          <img src="picsM/barchart.png" alt=""><br>
        </div>
        <ol>
          <li>If you click on name of server it will togle visibility in graph.</li>
        </ol>
        <hr>
        <h2>Responses pie and donut chart:</h2>
        <p>Pie chart show average values. Donut chart is from measured values for each tested server. </p>
        <div class="image-container">
          <img src="picsM/piechart.png" alt=""><br>
        </div>
        <ol>
          <li>Pie chart with average times.</li>
          <li>Donut chart with count of tests.</li>
          <li>If you click on name of server it will togle visibility in graph.</li>
        </ol>
        <hr>
        <h2>Map:</h2>
        <div class="image-container">
          <img src="picsM/Map.png" alt=""><br>
        </div>
        <ol>
          <li>With this buttons you can zoom in or zoom out.</li>
          <li>After click on buble you will see name of tested server.
            <div class="image-container"><img src="picsM/buble.png" id="sideBarre" alt=""><br></div>
          </li>
        </ol>
        <br>
        
      </div>
    </div>





      <script src="./podpr/renderer.js"></script>   <!-- spustí skript -->
      
      <script src="./podpr/jsonhandle.js"></script>

      <script src="../node_modules/chart.js/dist/chart.js"></script>  <!--načte knihovnu chart.js -->
      <script src="../node_modules/chart.js/dist/chart.min.js"></script>  <!--načte knihovnu chart.js -->
      <script src="../node_modules/chartjs-plugin-zoom/dist/chartjs-plugin-zoom.min.js"></script>  <!--načte knihovnu chart.js -->
      <script src="./podpr/graphs.js"></script>
      
      <script src="../node_modules/leaflet/dist/leaflet.js"></script>
      <script src="./podpr/maps.js"></script>
  
      

  </body>
</html>